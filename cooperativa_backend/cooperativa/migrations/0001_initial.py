# Generated by Django 5.0.1 on 2025-10-12 03:21

import cooperativa.models
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='CicloCultivo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_inicio', models.DateField()),
                ('fecha_estimada_fin', models.DateField()),
                ('fecha_fin_real', models.DateField(blank=True, null=True)),
                ('estado', models.CharField(choices=[('PLANIFICADO', 'Planificado'), ('SIEMBRA', 'En Siembra'), ('CRECIMIENTO', 'En Crecimiento'), ('COSECHA', 'En Cosecha'), ('FINALIZADO', 'Finalizado'), ('CANCELADO', 'Cancelado')], default='PLANIFICADO', max_length=20)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('costo_estimado', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(0, message='El costo no puede ser negativo')])),
                ('costo_real', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(0, message='El costo no puede ser negativo')])),
                ('rendimiento_esperado', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0, message='El rendimiento no puede ser negativo')])),
                ('rendimiento_real', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0, message='El rendimiento no puede ser negativo')])),
                ('unidad_rendimiento', models.CharField(default='kg/ha', help_text='Unidad de medida del rendimiento (kg/ha, qq/ha, etc.)', max_length=20)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Ciclo de Cultivo',
                'verbose_name_plural': 'Ciclos de Cultivo',
                'db_table': 'ciclo_cultivo',
                'ordering': ['-fecha_inicio'],
            },
        ),
        migrations.CreateModel(
            name='Comunidad',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=100, unique=True, validators=[django.core.validators.RegexValidator(message='Nombre de comunidad solo puede contener letras, números, espacios, guiones y puntos', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.]+$')])),
                ('municipio', models.CharField(blank=True, max_length=100, null=True, validators=[django.core.validators.RegexValidator(message='Municipio solo puede contener letras y espacios', regex='^[a-zA-ZÀ-ÿ\\s]+$')])),
                ('departamento', models.CharField(blank=True, max_length=100, null=True, validators=[django.core.validators.RegexValidator(message='Departamento solo puede contener letras y espacios', regex='^[a-zA-ZÀ-ÿ\\s]+$')])),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'verbose_name': 'Comunidad',
                'verbose_name_plural': 'Comunidades',
                'db_table': 'comunidad',
            },
        ),
        migrations.CreateModel(
            name='Cultivo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('especie', models.CharField(max_length=100, validators=[django.core.validators.RegexValidator(message='Especie solo puede contener letras y espacios', regex='^[a-zA-ZÀ-ÿ\\s]+$')])),
                ('variedad', models.CharField(blank=True, max_length=100, null=True, validators=[django.core.validators.RegexValidator(message='Variedad solo puede contener letras, números, espacios, guiones y puntos', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.]+$')])),
                ('tipo_semilla', models.CharField(blank=True, max_length=50, null=True, validators=[django.core.validators.RegexValidator(message='Tipo de semilla solo puede contener letras y espacios', regex='^[a-zA-ZÀ-ÿ\\s]+$')])),
                ('fecha_estimada_siembra', models.DateField(blank=True, null=True)),
                ('hectareas_sembradas', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0.01, message='Hectáreas sembradas debe ser mayor a 0')])),
                ('estado', models.CharField(choices=[('ACTIVO', 'Activo'), ('INACTIVO', 'Inactivo'), ('COSECHADO', 'Cosechado')], default='ACTIVO', max_length=20)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'verbose_name': 'Cultivo',
                'verbose_name_plural': 'Cultivos',
                'db_table': 'cultivo',
            },
        ),
        migrations.CreateModel(
            name='Fertilizante',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_comercial', models.CharField(help_text='Nombre comercial del fertilizante', max_length=100, validators=[django.core.validators.RegexValidator(message='Nombre comercial solo puede contener letras, números, espacios, guiones, puntos, paréntesis y porcentaje', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\(\\)\\%]+$')])),
                ('tipo_fertilizante', models.CharField(choices=[('QUIMICO', 'Químico'), ('ORGANICO', 'Orgánico'), ('FOLIARES', 'Foliares'), ('RAIZ', 'De raíz'), ('MICRONUTRIENTES', 'Micronutrientes'), ('CALCAREO', 'Calcareo'), ('OTRO', 'Otro')], help_text='Tipo de fertilizante', max_length=20)),
                ('composicion_npk', models.CharField(help_text='Composición NPK (ej: 10-10-10)', max_length=20, validators=[django.core.validators.RegexValidator(message='Composición NPK debe tener formato N-P-K (ej: 10-10-10, 20-10-10+5)', regex='^[0-9\\-]+-[0-9\\-]+-[0-9\\-]+(\\+[0-9]+)?$')])),
                ('cantidad', models.DecimalField(decimal_places=2, help_text='Cantidad disponible', max_digits=10, validators=[django.core.validators.MinValueValidator(0, message='La cantidad no puede ser negativa')])),
                ('unidad_medida', models.CharField(default='kg', help_text='Unidad de medida (kg, toneladas, L, etc.)', max_length=20)),
                ('fecha_vencimiento', models.DateField(blank=True, help_text='Fecha de vencimiento del fertilizante (opcional para orgánicos)', null=True)),
                ('lote', models.CharField(help_text='Número único del lote', max_length=50, unique=True, validators=[django.core.validators.RegexValidator(message='Lote solo puede contener letras mayúsculas, números, guiones, guiones bajos y puntos', regex='^[A-Z0-9\\-_\\.]+$')])),
                ('proveedor', models.CharField(help_text='Nombre del proveedor', max_length=100, validators=[django.core.validators.RegexValidator(message='Proveedor solo puede contener letras, números, espacios y caracteres especiales limitados', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\&\\(\\)]+$')])),
                ('precio_unitario', models.DecimalField(decimal_places=2, help_text='Precio unitario', max_digits=10, validators=[django.core.validators.MinValueValidator(0, message='El precio no puede ser negativo')])),
                ('ubicacion_almacen', models.CharField(help_text='Ubicación física en el almacén', max_length=100, validators=[django.core.validators.RegexValidator(message='Ubicación solo puede contener letras, números, espacios, guiones, puntos y barras', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\/]+$')])),
                ('estado', models.CharField(choices=[('DISPONIBLE', 'Disponible'), ('AGOTADO', 'Agotado'), ('VENCIDO', 'Vencido'), ('EN_CUARENTENA', 'En Cuarentena'), ('RECHAZADO', 'Rechazado')], default='DISPONIBLE', help_text='Estado actual del fertilizante', max_length=20)),
                ('dosis_recomendada', models.CharField(blank=True, help_text='Dosis recomendada por hectárea', max_length=50, null=True)),
                ('materia_orgánica', models.DecimalField(blank=True, decimal_places=2, help_text='Porcentaje de materia orgánica (para fertilizantes orgánicos)', max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0, message='La materia orgánica no puede ser negativa'), django.core.validators.MaxValueValidator(100, message='La materia orgánica no puede exceder 100%')])),
                ('observaciones', models.TextField(blank=True, help_text='Observaciones adicionales', null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Fertilizante',
                'verbose_name_plural': 'Fertilizantes',
                'db_table': 'fertilizante',
                'ordering': ['-creado_en'],
            },
        ),
        migrations.CreateModel(
            name='Parcela',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(blank=True, max_length=100, null=True, validators=[django.core.validators.RegexValidator(message='Nombre de parcela solo puede contener letras, números, espacios, guiones y puntos', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.]+$')])),
                ('superficie_hectareas', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0.01, message='La superficie debe ser mayor a 0')])),
                ('tipo_suelo', models.CharField(blank=True, max_length=50, null=True, validators=[django.core.validators.RegexValidator(message='Tipo de suelo solo puede contener letras y espacios', regex='^[a-zA-ZÀ-ÿ\\s]+$')])),
                ('ubicacion', models.TextField(blank=True, null=True, validators=[django.core.validators.RegexValidator(message='Ubicación contiene caracteres inválidos', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.,#]+$')])),
                ('latitud', models.DecimalField(blank=True, decimal_places=8, help_text='Latitud en grados decimales', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(-90, message='Latitud debe estar entre -90 y 90'), django.core.validators.MaxValueValidator(90, message='Latitud debe estar entre -90 y 90')])),
                ('longitud', models.DecimalField(blank=True, decimal_places=8, help_text='Longitud en grados decimales', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(-180, message='Longitud debe estar entre -180 y 180'), django.core.validators.MaxValueValidator(180, message='Longitud debe estar entre -180 y 180')])),
                ('estado', models.CharField(choices=[('ACTIVA', 'Activa'), ('INACTIVA', 'Inactiva')], default='ACTIVA', max_length=20)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'verbose_name': 'Parcela',
                'verbose_name_plural': 'Parcelas',
                'db_table': 'parcela',
            },
        ),
        migrations.CreateModel(
            name='Pesticida',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre_comercial', models.CharField(help_text='Nombre comercial del pesticida', max_length=100, validators=[django.core.validators.RegexValidator(message='Nombre comercial solo puede contener letras, números, espacios, guiones, puntos y paréntesis', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\(\\)]+$')])),
                ('ingrediente_activo', models.CharField(help_text='Principio activo del pesticida', max_length=100, validators=[django.core.validators.RegexValidator(message='Ingrediente activo solo puede contener letras, números, espacios, guiones, puntos, paréntesis y signo más', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\(\\)\\+]+$')])),
                ('tipo_pesticida', models.CharField(choices=[('INSECTICIDA', 'Insecticida'), ('FUNGICIDA', 'Fungicida'), ('HERBICIDA', 'Herbicida'), ('NEMATICIDA', 'Nematicida'), ('ACARICIDA', 'Acaricida'), ('BACTERICIDA', 'Bactericida'), ('MOLUSQUICIDA', 'Molusquicida'), ('RODENTICIDA', 'Rodenticida'), ('OTRO', 'Otro')], help_text='Tipo de pesticida', max_length=20)),
                ('concentracion', models.CharField(help_text='Concentración del ingrediente activo', max_length=50, validators=[django.core.validators.RegexValidator(message='Concentración debe tener formato válido (ej: 50%% WP, 200 g/L)', regex='^[0-9\\.\\,\\s\\%\\-\\(\\)a-zA-Z\\+]+$')])),
                ('cantidad', models.DecimalField(decimal_places=2, help_text='Cantidad disponible', max_digits=10, validators=[django.core.validators.MinValueValidator(0, message='La cantidad no puede ser negativa')])),
                ('unidad_medida', models.CharField(default='L', help_text='Unidad de medida (L, kg, ml, g, etc.)', max_length=20)),
                ('fecha_vencimiento', models.DateField(help_text='Fecha de vencimiento del pesticida')),
                ('lote', models.CharField(help_text='Número único del lote', max_length=50, unique=True, validators=[django.core.validators.RegexValidator(message='Lote solo puede contener letras mayúsculas, números, guiones, guiones bajos y puntos', regex='^[A-Z0-9\\-_\\.]+$')])),
                ('proveedor', models.CharField(help_text='Nombre del proveedor', max_length=100, validators=[django.core.validators.RegexValidator(message='Proveedor solo puede contener letras, números, espacios y caracteres especiales limitados', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\&\\(\\)]+$')])),
                ('precio_unitario', models.DecimalField(decimal_places=2, help_text='Precio unitario', max_digits=10, validators=[django.core.validators.MinValueValidator(0, message='El precio no puede ser negativo')])),
                ('ubicacion_almacen', models.CharField(help_text='Ubicación física en el almacén', max_length=100, validators=[django.core.validators.RegexValidator(message='Ubicación solo puede contener letras, números, espacios, guiones, puntos y barras', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\/]+$')])),
                ('estado', models.CharField(choices=[('DISPONIBLE', 'Disponible'), ('AGOTADO', 'Agotado'), ('VENCIDO', 'Vencido'), ('EN_CUARENTENA', 'En Cuarentena'), ('RECHAZADO', 'Rechazado')], default='DISPONIBLE', help_text='Estado actual del pesticida', max_length=20)),
                ('registro_sanitario', models.CharField(blank=True, help_text='Número de registro sanitario', max_length=50, null=True)),
                ('dosis_recomendada', models.CharField(blank=True, help_text='Dosis recomendada por hectárea', max_length=50, null=True)),
                ('observaciones', models.TextField(blank=True, help_text='Observaciones adicionales', null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Pesticida',
                'verbose_name_plural': 'Pesticidas',
                'db_table': 'pesticida',
                'ordering': ['-creado_en'],
            },
        ),
        migrations.CreateModel(
            name='Rol',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(max_length=50, unique=True, validators=[django.core.validators.RegexValidator(message='Nombre de rol solo puede contener letras, números, espacios, guiones y guiones bajos', regex='^[a-zA-Z0-9_\\-\\s]+$')])),
                ('descripcion', models.TextField(blank=True, null=True)),
                ('permisos', models.JSONField(default=dict, help_text='Permisos del rol en formato JSON')),
                ('es_sistema', models.BooleanField(default=False, help_text='Indica si es un rol del sistema que no puede ser eliminado')),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('actualizado_en', models.DateTimeField(default=django.utils.timezone.now)),
            ],
            options={
                'verbose_name': 'Rol',
                'verbose_name_plural': 'Roles',
                'db_table': 'rol',
            },
        ),
        migrations.CreateModel(
            name='Usuario',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('ci_nit', models.CharField(max_length=20, unique=True, validators=[cooperativa.models.validate_ci_nit])),
                ('nombres', models.CharField(max_length=100, validators=[django.core.validators.RegexValidator(message='Nombres solo pueden contener letras y espacios', regex='^[a-zA-ZÀ-ÿ\\s]+$')])),
                ('apellidos', models.CharField(max_length=100, validators=[django.core.validators.RegexValidator(message='Apellidos solo pueden contener letras y espacios', regex='^[a-zA-ZÀ-ÿ\\s]+$')])),
                ('email', models.EmailField(blank=True, max_length=254, null=True, unique=True, validators=[cooperativa.models.validate_email_domain])),
                ('telefono', models.CharField(blank=True, max_length=20, null=True, validators=[django.core.validators.RegexValidator(message='Formato de teléfono inválido', regex='^\\+?[0-9\\s\\-\\(\\)]+$')])),
                ('usuario', models.CharField(max_length=50, unique=True, validators=[django.core.validators.RegexValidator(message='Usuario solo puede contener letras, números y guiones bajos', regex='^[a-zA-Z0-9_]+$')])),
                ('estado', models.CharField(choices=[('ACTIVO', 'Activo'), ('INACTIVO', 'Inactivo'), ('BLOQUEADO', 'Bloqueado')], default='ACTIVO', max_length=20)),
                ('intentos_fallidos', models.IntegerField(default=0)),
                ('ultimo_intento', models.DateTimeField(blank=True, null=True)),
                ('fecha_bloqueo', models.DateTimeField(blank=True, null=True)),
                ('token_actual', models.TextField(blank=True, null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('actualizado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('is_active', models.BooleanField(default=True)),
                ('is_staff', models.BooleanField(default=False)),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now)),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'Usuario',
                'verbose_name_plural': 'Usuarios',
                'db_table': 'usuario',
            },
        ),
        migrations.CreateModel(
            name='BitacoraAuditoria',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accion', models.CharField(choices=[('CREAR', 'Crear'), ('ACTUALIZAR', 'Actualizar'), ('ELIMINAR', 'Eliminar'), ('LOGIN', 'Inicio de sesión'), ('LOGOUT', 'Cierre de sesión'), ('LOGIN_FALLIDO', 'Intento de login fallido'), ('SESION_EXPIRADA', 'Sesión expirada'), ('SESION_INVALIDADA', 'Sesión invalidada'), ('BLOQUEO_CUENTA', 'Cuenta bloqueada'), ('DESBLOQUEO_CUENTA', 'Cuenta desbloqueada'), ('CAMBIAR_PASSWORD', 'Cambio de contraseña'), ('RESET_PASSWORD', 'Reset de contraseña'), ('ACCESO_DENEGADO', 'Acceso denegado'), ('PERMISO_INSUFICIENTE', 'Permiso insuficiente'), ('ACTIVAR_SOCIO', 'Activar socio'), ('DESACTIVAR_SOCIO', 'Desactivar socio'), ('ACTIVAR_USUARIO', 'Activar usuario'), ('DESACTIVAR_USUARIO', 'Desactivar usuario'), ('CREAR_CICLO_CULTIVO', 'Crear ciclo de cultivo'), ('ACTUALIZAR_CICLO_CULTIVO', 'Actualizar ciclo de cultivo'), ('CREAR_COSECHA', 'Crear cosecha'), ('ACTUALIZAR_COSECHA', 'Actualizar cosecha'), ('CREAR_TRATAMIENTO', 'Crear tratamiento'), ('ACTUALIZAR_TRATAMIENTO', 'Actualizar tratamiento'), ('CREAR_ANALISIS_SUELO', 'Crear análisis de suelo'), ('ACTUALIZAR_ANALISIS_SUELO', 'Actualizar análisis de suelo'), ('CREAR_TRANSFERENCIA_PARCELA', 'Crear transferencia de parcela'), ('ACTUALIZAR_TRANSFERENCIA_PARCELA', 'Actualizar transferencia de parcela'), ('PROCESAR_TRANSFERENCIA_APROBAR', 'Aprobar transferencia'), ('PROCESAR_TRANSFERENCIA_RECHAZAR', 'Rechazar transferencia')], max_length=50)),
                ('tabla_afectada', models.CharField(max_length=100)),
                ('registro_id', models.IntegerField()),
                ('detalles', models.JSONField()),
                ('fecha', models.DateTimeField(default=django.utils.timezone.now)),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True)),
                ('user_agent', models.TextField(blank=True, null=True)),
                ('usuario', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Bitácora de Auditoría',
                'verbose_name_plural': 'Bitácoras de Auditoría',
                'db_table': 'bitacora_auditoria',
                'ordering': ['-fecha'],
            },
        ),
        migrations.CreateModel(
            name='Campaign',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nombre', models.CharField(help_text='Nombre descriptivo de la campania', max_length=200, unique=True, validators=[django.core.validators.RegexValidator(message='Nombre solo puede contener letras, números, espacios, guiones, puntos y barras', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.\\/]+$')])),
                ('fecha_inicio', models.DateField(help_text='Fecha de inicio de la campania')),
                ('fecha_fin', models.DateField(help_text='Fecha programada de finalización de la campania')),
                ('meta_produccion', models.DecimalField(decimal_places=2, help_text='Meta de producción total de la campania (en kg o toneladas)', max_digits=12, validators=[django.core.validators.MinValueValidator(0, message='La meta de producción no puede ser negativa')])),
                ('unidad_meta', models.CharField(default='kg', help_text='Unidad de medida de la meta (kg, toneladas, quintales, etc.)', max_length=20)),
                ('estado', models.CharField(choices=[('PLANIFICADA', 'Planificada'), ('EN_CURSO', 'En Curso'), ('FINALIZADA', 'Finalizada'), ('CANCELADA', 'Cancelada')], default='PLANIFICADA', help_text='Estado actual de la campania', max_length=20)),
                ('descripcion', models.TextField(blank=True, help_text='Descripción detallada de los objetivos y características de la campania', null=True)),
                ('presupuesto', models.DecimalField(blank=True, decimal_places=2, help_text='Presupuesto asignado a la campania', max_digits=12, null=True, validators=[django.core.validators.MinValueValidator(0, message='El presupuesto no puede ser negativo')])),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
                ('responsable', models.ForeignKey(blank=True, help_text='Usuario responsable de coordinar la campania', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='campanias_responsables', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'campania',
                'verbose_name_plural': 'campanias',
                'db_table': 'campaign',
                'ordering': ['-fecha_inicio'],
            },
        ),
        migrations.CreateModel(
            name='Cosecha',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_cosecha', models.DateField()),
                ('cantidad_cosechada', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0, message='La cantidad no puede ser negativa')])),
                ('unidad_medida', models.CharField(default='kg', help_text='Unidad de medida (kg, qq, toneladas, etc.)', max_length=20)),
                ('calidad', models.CharField(choices=[('EXCELENTE', 'Excelente'), ('BUENA', 'Buena'), ('REGULAR', 'Regular'), ('MALA', 'Mala')], default='BUENA', max_length=20)),
                ('estado', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('COMPLETADA', 'Completada'), ('CANCELADA', 'Cancelada')], default='PENDIENTE', help_text='Estado de la cosecha', max_length=20)),
                ('precio_venta', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0, message='El precio no puede ser negativo')])),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('ciclo_cultivo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.ciclocultivo')),
            ],
            options={
                'verbose_name': 'Cosecha',
                'verbose_name_plural': 'Cosechas',
                'db_table': 'cosecha',
                'ordering': ['-fecha_cosecha'],
            },
        ),
        migrations.AddField(
            model_name='ciclocultivo',
            name='cultivo',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.cultivo'),
        ),
        migrations.AddField(
            model_name='cultivo',
            name='parcela',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.parcela'),
        ),
        migrations.CreateModel(
            name='AnalisisSuelo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_analisis', models.DateField()),
                ('tipo_analisis', models.CharField(choices=[('QUIMICO', 'Químico'), ('FISICO', 'Físico'), ('BIOLOGICO', 'Biológico'), ('COMPLETO', 'Completo')], default='COMPLETO', help_text='Tipo de análisis realizado', max_length=20)),
                ('ph', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True, validators=[django.core.validators.MinValueValidator(0, message='El pH debe ser positivo'), django.core.validators.MaxValueValidator(14, message='El pH no puede exceder 14')])),
                ('materia_organica', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0, message='La materia orgánica no puede ser negativa')])),
                ('nitrogeno', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0, message='El nitrógeno no puede ser negativo')])),
                ('fosforo', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0, message='El fósforo no puede ser negativo')])),
                ('potasio', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(0, message='El potasio no puede ser negativo')])),
                ('laboratorio', models.CharField(blank=True, max_length=100, null=True)),
                ('recomendaciones', models.TextField(blank=True, null=True)),
                ('costo_analisis', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True, validators=[django.core.validators.MinValueValidator(0, message='El costo no puede ser negativo')])),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('parcela', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.parcela')),
            ],
            options={
                'verbose_name': 'Análisis de Suelo',
                'verbose_name_plural': 'Análisis de Suelo',
                'db_table': 'analisis_suelo',
                'ordering': ['-fecha_analisis'],
            },
        ),
        migrations.CreateModel(
            name='Semilla',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('especie', models.CharField(help_text='Especie de la semilla (ej: Maíz, Trigo, Soya)', max_length=100, validators=[django.core.validators.RegexValidator(message='Especie solo puede contener letras, espacios, guiones y puntos', regex='^[a-zA-ZÀ-ÿ\\s\\-\\.]+$')])),
                ('variedad', models.CharField(blank=True, help_text='Variedad específica de la semilla', max_length=100, null=True, validators=[django.core.validators.RegexValidator(message='Variedad solo puede contener letras, números, espacios, guiones y puntos', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.]+$')])),
                ('cantidad', models.DecimalField(decimal_places=2, help_text='Cantidad disponible en kilogramos', max_digits=10, validators=[django.core.validators.MinValueValidator(0, message='La cantidad no puede ser negativa')])),
                ('unidad_medida', models.CharField(default='kg', help_text='Unidad de medida (kg, g, toneladas, etc.)', max_length=20)),
                ('fecha_vencimiento', models.DateField(help_text='Fecha de vencimiento de la semilla')),
                ('porcentaje_germinacion', models.DecimalField(decimal_places=2, help_text='Porcentaje de germinación (%)', max_digits=5, validators=[django.core.validators.MinValueValidator(0, message='El porcentaje no puede ser negativo'), django.core.validators.MaxValueValidator(100, message='El porcentaje no puede exceder 100%')])),
                ('lote', models.CharField(blank=True, help_text='Número de lote del proveedor', max_length=50, null=True)),
                ('proveedor', models.CharField(blank=True, help_text='Nombre del proveedor', max_length=100, null=True)),
                ('precio_unitario', models.DecimalField(blank=True, decimal_places=2, help_text='Precio unitario por kilogramo', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0, message='El precio no puede ser negativo')])),
                ('ubicacion_almacen', models.CharField(blank=True, help_text='Ubicación física en el almacén', max_length=100, null=True)),
                ('estado', models.CharField(choices=[('DISPONIBLE', 'Disponible'), ('AGOTADA', 'Agotada'), ('VENCIDA', 'Vencida'), ('RESERVADA', 'Reservada')], default='DISPONIBLE', help_text='Estado actual de la semilla', max_length=20)),
                ('observaciones', models.TextField(blank=True, help_text='Observaciones adicionales', null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('actualizado_en', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Semilla',
                'verbose_name_plural': 'Semillas',
                'db_table': 'semilla',
                'ordering': ['-creado_en'],
                'unique_together': {('especie', 'variedad', 'lote')},
            },
        ),
        migrations.CreateModel(
            name='Socio',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('codigo_interno', models.CharField(blank=True, max_length=20, null=True, unique=True, validators=[django.core.validators.RegexValidator(message='Código interno solo puede contener letras mayúsculas, números y guiones', regex='^[A-Z0-9\\-]+$')])),
                ('fecha_nacimiento', models.DateField(blank=True, null=True)),
                ('sexo', models.CharField(blank=True, choices=[('M', 'Masculino'), ('F', 'Femenino')], max_length=10, null=True)),
                ('direccion', models.TextField(blank=True, null=True, validators=[django.core.validators.RegexValidator(message='Dirección contiene caracteres inválidos', regex='^[a-zA-ZÀ-ÿ0-9\\s\\-\\.,#]+$')])),
                ('estado', models.CharField(choices=[('ACTIVO', 'Activo'), ('INACTIVO', 'Inactivo')], default='ACTIVO', max_length=20)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('comunidad', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='cooperativa.comunidad')),
                ('usuario', models.OneToOneField(error_messages={'unique': 'Ya existe un socio asociado a este usuario'}, on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Socio',
                'verbose_name_plural': 'Socios',
                'db_table': 'socio',
            },
        ),
        migrations.AddField(
            model_name='parcela',
            name='socio',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.socio'),
        ),
        migrations.CreateModel(
            name='TransferenciaParcela',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_transferencia', models.DateField()),
                ('motivo', models.TextField()),
                ('documento_legal', models.CharField(blank=True, max_length=100, null=True)),
                ('costo_transferencia', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0, message='El costo no puede ser negativo')])),
                ('estado', models.CharField(choices=[('PENDIENTE', 'Pendiente'), ('APROBADA', 'Aprobada'), ('RECHAZADA', 'Rechazada')], default='PENDIENTE', help_text='Estado de la transferencia', max_length=20)),
                ('fecha_aprobacion', models.DateTimeField(blank=True, null=True)),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('autorizado_por', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transferencias_autorizadas', to=settings.AUTH_USER_MODEL)),
                ('parcela', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.parcela')),
                ('socio_anterior', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelas_transferidas', to='cooperativa.socio')),
                ('socio_nuevo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelas_recibidas', to='cooperativa.socio')),
            ],
            options={
                'verbose_name': 'Transferencia de Parcela',
                'verbose_name_plural': 'Transferencias de Parcelas',
                'db_table': 'transferencia_parcela',
                'ordering': ['-fecha_transferencia'],
            },
        ),
        migrations.CreateModel(
            name='Tratamiento',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tipo_tratamiento', models.CharField(choices=[('FERTILIZANTE', 'Fertilizante'), ('PESTICIDA', 'Pesticida'), ('HERBICIDA', 'Fungicida'), ('REGULADOR', 'Regulador de Crecimiento'), ('RIEGO', 'Riego'), ('LABOR', 'Labor Cultural'), ('OTRO', 'Otro')], max_length=20)),
                ('nombre_producto', models.CharField(max_length=100)),
                ('dosis', models.DecimalField(decimal_places=2, max_digits=10, validators=[django.core.validators.MinValueValidator(0, message='La dosis no puede ser negativa')])),
                ('unidad_dosis', models.CharField(default='kg/ha', help_text='Unidad de dosis (kg/ha, l/ha, etc.)', max_length=20)),
                ('fecha_aplicacion', models.DateField()),
                ('costo', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0, message='El costo no puede ser negativo')])),
                ('observaciones', models.TextField(blank=True, null=True)),
                ('aplicado_por', models.CharField(blank=True, max_length=100, null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('ciclo_cultivo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.ciclocultivo')),
            ],
            options={
                'verbose_name': 'Tratamiento',
                'verbose_name_plural': 'Tratamientos',
                'db_table': 'tratamiento',
                'ordering': ['-fecha_aplicacion'],
            },
        ),
        migrations.CreateModel(
            name='CampaignPlot',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('fecha_asignacion', models.DateField(default=django.utils.timezone.now, help_text='Fecha en que la parcela fue asignada a la campania')),
                ('superficie_comprometida', models.DecimalField(blank=True, decimal_places=2, help_text='Superficie de la parcela comprometida para esta campania (en hectáreas)', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0.01, message='La superficie debe ser mayor a 0')])),
                ('cultivo_planificado', models.CharField(blank=True, help_text='Cultivo planificado para esta parcela en la campania', max_length=100, null=True)),
                ('meta_produccion_parcela', models.DecimalField(blank=True, decimal_places=2, help_text='Meta de producción específica para esta parcela', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0, message='La meta no puede ser negativa')])),
                ('observaciones', models.TextField(blank=True, help_text='Observaciones sobre la participación de la parcela', null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('campaign', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parcelas', to='cooperativa.campaign')),
                ('parcela', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='campanias', to='cooperativa.parcela')),
            ],
            options={
                'verbose_name': 'Parcela de campania',
                'verbose_name_plural': 'Parcelas de campanias',
                'db_table': 'campaign_plot',
                'ordering': ['-fecha_asignacion'],
                'unique_together': {('campaign', 'parcela')},
            },
        ),
        migrations.CreateModel(
            name='CampaignPartner',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('rol', models.CharField(choices=[('COORDINADOR', 'Coordinador'), ('PRODUCTOR', 'Productor'), ('TECNICO', 'Técnico Agrícola'), ('SUPERVISOR', 'Supervisor')], default='PRODUCTOR', help_text='Rol del socio en la campania', max_length=20)),
                ('fecha_asignacion', models.DateField(default=django.utils.timezone.now, help_text='Fecha en que el socio fue asignado a la campania')),
                ('observaciones', models.TextField(blank=True, help_text='Observaciones sobre la participación del socio', null=True)),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('campaign', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='socios_asignados', to='cooperativa.campaign')),
                ('socio', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='campanias_participadas', to='cooperativa.socio')),
            ],
            options={
                'verbose_name': 'Socio de campania',
                'verbose_name_plural': 'Socios de campanias',
                'db_table': 'campaign_partner',
                'ordering': ['-fecha_asignacion'],
                'unique_together': {('campaign', 'socio')},
            },
        ),
        migrations.CreateModel(
            name='UsuarioRol',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('creado_en', models.DateTimeField(default=django.utils.timezone.now)),
                ('rol', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='cooperativa.rol')),
                ('usuario', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Usuario-Rol',
                'verbose_name_plural': 'Usuarios-Roles',
                'db_table': 'usuario_rol',
                'unique_together': {('usuario', 'rol')},
            },
        ),
    ]
